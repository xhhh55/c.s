<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Rechnung – LUXURY CAR</title>
<style>
  /* ===== A4 & Base ===== */
  @page { size: A4; margin: 20mm 16mm 18mm 16mm; }
  html, body { height:100%; background:#f3f4f6; }
  body { margin:0; color:#000; font-family: Arial, "Segoe UI", Tahoma, sans-serif; -webkit-font-smoothing:antialiased; }

  .sheet{ width:210mm; min-height:297mm; margin:0 auto; background:#fff; box-shadow:0 8px 26px rgba(0,0,0,.08); }
  .wrap { padding:26mm 18mm 30mm; } /* + أسفل أكثر لمنع أي تراكب */
 .logoBox img{ max-width:76mm; height:auto; display:block; }

  /* ===== Header ===== */
  .header{ display:flex; justify-content:space-between; align-items:flex-start; }
  .from{ font-size:13.2px; line-height:1.35; }
  .from .name{ font-weight:700; font-size:14.4px; letter-spacing:.2px; }
  .from a{ color:#1a0dab; text-decoration:underline; }
  
  /* ===== Address / Meta ===== */
  .to{ margin-top:22px; font-size:13.2px; }
  .to .lbl{ font-weight:700; display:block; margin-bottom:3px; }
  .topRow{ display:grid; grid-template-columns: 1fr auto; gap:12mm; align-items:center; margin:18px 0 8px; font-size:13.2px; }
  .topRow .right{ display:flex; gap:10mm; flex-wrap:wrap; white-space:nowrap; }
  .topRow b{ font-weight:700; }

  /* ===== Table ===== */
  table{ width:100%; border-collapse:collapse; table-layout:fixed; font-size:12.6px; margin-top:8px; }
  col.nr{  width:18mm; } col.det{ width:72mm; } col.dat{ width:28mm; }
  col.net{ width:32mm; } col.tax{ width:32mm; } col.gro{ width:32mm; }

  thead th{
    background:#00a2ff;      /* أزرق */
    color:#d40000;           /* أحمر */
    border:1px solid #bfc7d1;
    padding:7px 8px; text-align:center; font-weight:700;
  }
  tbody td{ border:1px solid #bfc7d1; padding:7px 8px; }
  tbody td:nth-child(1){ text-align:center; }
  tbody td:nth-child(2){ text-align:left; }
  tbody td:nth-child(3){ text-align:center; white-space:nowrap; }
  tbody td:nth-child(4),
  tbody td:nth-child(5),
  tbody td:nth-child(6){ text-align:right; white-space:nowrap; }

  tfoot td{ border:1px solid #bfc7d1; padding:8px; font-weight:700; background:#f3f6fb; }
  tfoot td:first-child{ text-align:right; }

  /* ===== Notes ===== */
  .notes{ margin:14px 0 18px; }
  .note{ font-size:12.6px; color:#333; line-height:1.35; margin:0 0 6px; }

  /* ===== Footer (داخل التدفق بدون absolute) ===== */
  .footer{ margin-top:16px; }
  .line{ border-top:2px solid #000; margin:10px 0 12px; }
  .footGrid{
    display:grid; grid-template-columns: 1.15fr 1.2fr 1fr; gap:14mm;
    font-size:12.6px; line-height:1.35; align-items:start;
  }
  .footGrid b{ display:block; margin-bottom:2px; }
  .footGrid div{ white-space:nowrap; } /* يمنع كسر الأسطر العشوائي */

  /* Print */
  @media print{
    html, body{ background:#fff; }
    .sheet{ box-shadow:none; }
    a{ color:#000; text-decoration:none; }
  }
</style>
</head>
<body>
<div class="sheet">
  <div class="wrap">

    <!-- Header -->
    <div class="header">
      <div class="from">
        <div class="name">LUXURY CAR</div>
        Gartenstraße&nbsp;44<br>
        29525&nbsp;Uelzen<br>
        <a href="mailto:Aufbereitung.bouhouchi@gmail.com">Aufbereitung.bouhouchi@gmail.com</a><br>
        Tel Nr.: 01631666435
      </div>
      <div class="logoBox">
        <img src="photo_2025-05-13_14-29-43.jpg" alt="LUXURY CAR">
      </div>
    </div>

    <!-- To & Meta -->
    <div class="to">
      <span class="lbl">AN:</span>
      STERNPARTNER SE &amp; Co. KG (Tesmer)<br>
      Oldenstädter Str. 65, 29525 Uelzen
    </div>

    <div class="topRow">
      <div><b>Rechnung:</b></div>
      <div class="right">
        <div>Rechnung Nr. <b>2025-08-0004</b></div>
        <div>Kunden-Nr.: <b>0003</b></div>
        <div>Datum: <b id="invoice-date"></b></div>
      </div>
    </div>

    <!-- Table -->
    <table aria-label="Rechnungstabelle">
      <colgroup>
        <col class="nr"><col class="det"><col class="dat"><col class="net"><col class="tax"><col class="gro">
      </colgroup>
      <thead>
        <tr>
          <th>Nr.</th>
          <th>Fahrzeugdetails</th>
          <th>Datum</th>
          <th>NETTOBETRAG</th>
          <th>Mwst. 0%</th>
          <th>BRUTTOBETRAG</th>
        </tr>
      </thead>
      <tbody id="tbody"></tbody>
      <tfoot>
        <tr>
          <td colspan="5">Gesamtkosten</td>
          <td id="grand-total">0,00&nbsp;EUR</td>
        </tr>
      </tfoot>
    </table>

    <!-- Notes (فوق الفوتر الآن) -->
    <div class="notes">
      <p class="note">Es wird gemäß §19 Abs. 1 Umsatzsteuergesetz keine Umsatzsteuer erhoben.</p>
      <p class="note">Der Gesamtbetrag ist ab Erhalt dieser Rechnung zahlbar innerhalb von 7 Tagen ohne Abzug.</p>
      <p class="note">Vielen Dank, dass Sie sich für die Dienstleistungen der Luxury car entschieden haben!</p>
    </div>

    <!-- Footer -->
    <div class="footer">
      <div class="line"></div>
      <div class="footGrid">
        <div>
          <b>LUXURY CAR</b>
          Inh. Lamjed Bouhouchi<br>
          Gartenstraße&nbsp;44<br>
          29525&nbsp;Uelzen
        </div>
        <div>
          <b>Volksbank Uelzen Salzwedel</b>
          IBAN: DE85 2586 2292 0029 9928 00<br>
          BIC: GENODEF1EUB<br>
          Konto Inh.: Lamjed Bouhouchi
        </div>
        <div>
          <b>Steuer-Nr.: 47/105/02489</b>
          Finanzamt Uelzen-Lüchow
        </div>
      </div>
    </div>

  </div>
</div>

<script>
  // ===== تاريخ اليوم (de-DE) =====
  document.getElementById('invoice-date').textContent =
    new Date().toLocaleDateString('de-DE');

  // ===== البيانات (مصَححة ومرتبة) =====
  const rows = [
    {det:'CLA 35 AMG — 047658',  date:'21.07', amount:60},
    {det:'GLC 220d — 0412277',   date:'21.07', amount:120},
    {det:'CLA 250e SB — 047677', date:'21.07', amount:120},

    {det:'E450 DT — 23711381',   date:'22.07', amount:60},
    {det:'C200 — 23718382',      date:'22.07', amount:60},

    {det:'A250 — 017677',        date:'23.07', amount:60},
    {det:'GLC 220d — 047645',    date:'23.07', amount:120},
    {det:'A35 Lim — 23718378',   date:'23.07', amount:60},
    {det:'EQA 300 — 23718379',   date:'23.07', amount:60},

    {det:'A200d — WF LL 11001',  date:'24.07', amount:120},
    {det:'GLC 300de — 0412237',  date:'25.07', amount:120},

    {det:'CLE 300 — 3616493',    date:'01.08', amount:120},
    {det:'CLA 250e — 047783',    date:'01.08', amount:120},

    {det:'CLA 250e — 120874',    date:'04.08', amount:120},
    {det:'E200 — 091926',        date:'04.08', amount:60},
    {det:'C300 eT — 041713',     date:'04.08', amount:60},

    {det:'E 300 T — 052374881',  date:'05.08', amount:60},
    {det:'E 600 T — 051238',     date:'05.08', amount:120},
    {det:'C 300e — 102841',      date:'05.08', amount:120},

    {det:'GLC 200 — 017783',     date:'06.08', amount:120},
    {det:'CLA 220 — 017784',     date:'06.08', amount:120},
    {det:'EQB 300 — W1-893850',  date:'06.08', amount:60},
  ];

  // ===== بناء الصفوف + الإجمالي =====
  const tbody = document.getElementById('tbody');
  const fmt = n => n.toLocaleString('de-DE',{minimumFractionDigits:2, maximumFractionDigits:2}) + '\u00A0EUR';
  let total = 0;
  rows.forEach((r,i)=>{
    total += r.amount;
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${i+1}</td>
      <td>${r.det}</td>
      <td>${r.date}</td>
      <td>${fmt(r.amount)}</td>
      <td>${fmt(0)}</td>
      <td>${fmt(r.amount)}</td>
    `;
    tbody.appendChild(tr);
  });
  document.getElementById('grand-total').innerHTML = fmt(total);
</script>
</body>
</html>
